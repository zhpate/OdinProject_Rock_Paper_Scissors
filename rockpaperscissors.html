<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Rock, Paper, Scissors</title>
    <link rel = "stylesheet" href = "styles.css">
  </head>
</html>

<body>
    <h1>Play Rock, Paper, Scissors</h1>
    <p>Click the button below to play a round</p>
    <p>Your win/loss rate is calculated below</p>
    <button onclick="play_rps()">Play</button>

    <p id = "Results"></p>
    <p id = "Wins"></p>
    <p id = "Losses"></p>
    <p id = "Draws"></p>



<!--<script src="main.js"></script>-->
<script>
    let win_count = 0
    let loss_count = 0
    let draw_count = 0

    function choose(choices) {
        var index = Math.floor(Math.random() * choices.length);
        return choices[index];
    }

    function update_score(result_score) {
        if (result_score == 0) {
            draw_count += 1
        } else if (result_score == 1) {
            win_count += 1
        } else if (result_score == -1) {
            loss_count += 1
        }
        document.getElementById("Wins").innerHTML = "You have " + win_count + " Wins";
        document.getElementById("Losses").innerHTML = "You have " + loss_count + " Losses";
        document.getElementById("Draws").innerHTML = "You have " + draw_count + " Draws";


    }

    function play_rps() {
        let player_input_raw = prompt("Rock, Paper, or Scissors?")
        let player_input = player_input_raw.charAt(0).toUpperCase() + player_input_raw.slice(1).toLowerCase();

        let computer_choice = choose(['Rock', 'Paper', 'Scissors'])

        console.log(player_input_raw)
        console.log(computer_choice)

        let response_val = "NA"
        let score = 0

        
        
        if (player_input == computer_choice) {
            response_val = "Draw"
        } else if (player_input == "Rock" && computer_choice == "Scissors" ) {
            response_val = "Rock beats Scissors, you win!"
            score = 1
        } else if (player_input == "Rock" && computer_choice == "Paper" ) {
            response_val = "Paper beats Rock, you lose!"
            score = -1
        } else if (player_input == "Paper" && computer_choice == "Rock" ) {
            response_val = "Paper beats Rock, you win!"
            score = 1
        } else if (player_input == "Paper" && computer_choice == "Scissors" ) {
            response_val = "Scissors beats Paper, you lose!"
            score = -1
        } else if (player_input == "Scissors" && computer_choice == "Paper" ) {
            response_val = "Scissors beats Paper, you win!"
            score = 1
        } else if (player_input == "Scissors" && computer_choice == "Rock" ) {
            response_val = "Rock beats Scissors, you lose!"
            score = -1
        } else {
            resonse_val = "Incorrect Input, Try again"
        }
        document.getElementById("Results").innerHTML = response_val;

        update_score(score)

        return score
    }


    </script>
</body>

